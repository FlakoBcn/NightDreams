<!-- reservas.html -->
<div class="w-full max-w-7xl mx-auto pt-10 pb-24 px-0 sm:px-4">

  <!-- Título único -->
  <h1 class="text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2">
    <i data-lucide="calendar-check" class="w-7 h-7 text-emerald-500"></i>
    Reservas
  </h1>

  <!-- Acciones (solo Boss) -->
  <div id="encabezadoAcciones" class="mb-3">
    <button id="csvBtn" class="bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-700 font-semibold text-base shadow-sm transition hidden">
      Descargar CSV
    </button>
  </div>

  <!-- Tabla de reservas NUEVAS (PWA) -->
  <div class="mb-8">
    <div id="tablaReservas" class="w-full border border-slate-200 rounded-xl shadow-sm overflow-x-auto bg-white">
      <p class="text-gray-500 text-center py-10">Cargando reservas…</p>
    </div>
  </div>

  <!-- Legacy (plegable/acordeón) -->
  <div>
    <button id="toggleLegacyBtn" class="flex items-center w-full py-4 px-4 rounded-xl border border-orange-200 bg-yellow-50 hover:bg-yellow-100 transition font-semibold text-orange-900 text-lg gap-2 mb-2 focus:outline-none">
      <span class="inline-block w-2 h-2 rounded-full bg-orange-400"></span>
      Reservas Legacy / Antes de la PWA
      <span class="ml-2 text-xs bg-orange-100 px-2 py-1 rounded uppercase font-bold tracking-widest">Legacy</span>
      <i id="legacyArrow" data-lucide="chevron-down" class="w-6 h-6 ml-auto transition-transform"></i>
    </button>
    <div id="tablaReservasLegacyWrapper" class="hidden">
      <div id="tablaReservasLegacy" class="bg-yellow-50 border border-orange-200 rounded-xl shadow-md overflow-x-auto p-4 mt-2">
        <p class="text-gray-500 text-center py-6">Haz click arriba para mostrar tus reservas legacy…</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal Eliminación Reserva -->
<div id="modalEliminacion" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-2xl p-6 shadow-xl w-full max-w-md relative animate__animated animate__fadeInDown">
    <button onclick="closeModalEliminacion()" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl font-bold bg-transparent border-none focus:outline-none">×</button>
    <h2 class="text-xl font-semibold text-red-600 mb-4 flex items-center gap-2">
      <i data-lucide="trash-2" class="w-6 h-6"></i>
      Eliminar reserva
    </h2>
    <form onsubmit="event.preventDefault(); enviarSolicitudEliminacion();">
      <input type="hidden" id="elimReservaId">
      <label class="block mb-2 text-sm font-medium text-gray-700" for="elimMotivo">
        Motivo de la eliminación <span class="text-red-500">*</span>
      </label>
      <textarea id="elimMotivo" required rows="3" class="form-control block w-full border border-gray-300 rounded-lg p-2 mb-4 resize-none" placeholder="Escribe el motivo…"></textarea>
      <div class="flex justify-end gap-2 mt-2">
        <button type="button" onclick="closeModalEliminacion()" class="bg-gray-100 text-gray-700 px-4 py-2 rounded hover:bg-gray-200 transition">
          Cancelar
        </button>
        <button type="submit" class="bg-red-600 text-white px-5 py-2 rounded shadow hover:bg-red-700 font-semibold transition">
          Enviar solicitud
        </button>
      </div>
    </form>
  </div>
</div>
